å‚è€ƒé“¾æ¥ï¼š

1.[efb-telegram-masteré…ç½®æ–‡ä»¶ç¤ºä¾‹](https://github.com/ehForwarderBot/efb-telegram-master/blob/master/readme_translations/zh_CN.rst#ç¼–å†™é…ç½®æ–‡ä»¶)

2.[miraiå®¢æˆ·ç«¯é…ç½®æ•™ç¨‹](https://github.com/ehForwarderBot/efb-qq-slave/blob/master/doc/Mirai_zh-CN.rst)

3.[efb-QQ-Dockeråœ°å€](https://hub.docker.com/r/phoenixxie/efb-qq-docker)

4.[efbå®˜æ–¹æ–‡æ¡£](https://github.com/ehForwarderBot/ehForwarderBot/wiki/Modules-Repository)

5.[mcl](https://github.com/iTXTech/mirai-console-loader/releases)

6.[æ»‘å—éªŒè¯è§£å†³æ–¹æ¡ˆ](https://github.com/project-mirai/mirai-login-solver-selenium)

7.[efb-filter-middlewareä¸­é—´ä»¶](https://github.com/xzsk2/efb-filter-middleware)

**æœ¬æ–‡å¤šä»¥å›¾å½¢åŒ–ç•Œé¢æ¼”ç¤ºï¼Œå–œæ¬¢å‘½ä»¤è¡Œçš„è‡ªè¡Œæ“ä½œã€‚**



# ä¸€ã€ä¸‹è½½efb-qqé•œåƒ
ç™»å½•sshï¼Œè¾“å…¥ä¸‹åˆ—ä»£ç 
```
docker pull phoenixxie/efb-qq-docker
```
æˆ–è€…ç›´æ¥å»ç¾¤æ™–æ£€ç´¢ä¸‹è½½ï¼Œurlåœ°å€ç‚¹å‡»[è¿™é‡Œ](https://hub.docker.com/r/phoenixxie/efb-qq-docker)
![image](https://user-images.githubusercontent.com/50565072/177001693-7642f1f1-9b61-436c-95ab-b7da799d816e.png)
![image](https://user-images.githubusercontent.com/50565072/177001698-e7714cde-c806-402e-9abb-50c6c7e7a935.png)


# äºŒã€è·å–ç”µæŠ¥æœºå™¨äººtokenå’ŒUID
## 1.åˆ›å»ºæœºå™¨äºº
TGæœç´¢botfatherï¼Œè®¤å‡†å®˜æ–¹è´¦å·
![image](https://user-images.githubusercontent.com/50565072/177001854-a87c40ec-7435-46c2-aef8-1c991b225178.png)

åœ¨å¯¹è¯æ¡†è¾“å…¥/ ç‚¹å‡»
```
/newbot
```

å³å¯åˆ›å»ºæ–°æœºå™¨äºº
æŒ‰ç…§æŒ‡ç¤ºå–åå­—ï¼Œå°±å¥½åƒä½ çš„QQæ˜µç§°å¯ä»¥éšæ—¶ä¿®æ”¹ã€‚

![image](https://user-images.githubusercontent.com/50565072/177001870-21fea189-8f99-4241-bc94-4a07bc5a5b18.png)

æŒ‰ç…§æŒ‡ç¤ºå–æœºå™¨äººå·ï¼Œç±»ä¼¼ä½ çš„QQå·ï¼Œå¿…é¡»ç”¨botç»“å°¾ï¼Œä¸å¯ä¿®æ”¹ã€‚

åˆ›å»ºæˆåŠŸä¼šæ”¶åˆ°è¿™æ ·ä¸€æ¡ä¿¡æ¯ï¼š

![image](https://user-images.githubusercontent.com/50565072/177001884-343cd9de-3ea4-46e5-af3e-7c12002b37b7.png)

ç¬¬äºŒå¤„é©¬èµ›å…‹éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„bot tokenï¼Œè¿™ä¸ªè¯·ä¿å­˜å¥½ï¼Œæ³¨æ„ä¸è¦æ³„éœ²ã€‚
ç‚¹å‡»ç¬¬ä¸€å¤„é©¬èµ›å…‹çš„é“¾æ¥ï¼Œè·³è½¬åˆ°ä½ çš„æœºå™¨äººï¼Œç‚¹å‡»å¼€å§‹ã€‚è¿™æ ·å°±æ·»åŠ å¥½äº†ä½ çš„æœºå™¨äººå•¦ã€‚
## 2.è®¾ç½®æœºå™¨äºº
ç»§ç»­å¯¹botfatherå¯¹è¯
```
/setcommands
```
é€‰æ‹©ä½ çš„bot
ç²˜è´´å¦‚ä¸‹å‘½ä»¤å¹¶å‘é€
```
help - æ˜¾ç¤ºå‘½ä»¤åˆ—è¡¨
link - å°†è¿œç¨‹ä¼šè¯ç»‘å®šåˆ° Telegram ç¾¤ç»„
chat - ç”Ÿæˆä¼šè¯å¤´
info - æ˜¾ç¤ºå½“å‰ Telegram èŠå¤©çš„ä¿¡æ¯
unlink_all - å°†æ‰€æœ‰è¿œç¨‹ä¼šè¯ä»Telegram ç¾¤ç»„è§£ç»‘
update_info - æ›´æ–°å½“å‰ç¾¤ç»„åç§°å’Œå¤´åƒï¼Œå’ŒQQåŒæ­¥
extra - è·å–æ›´å¤šåŠŸèƒ½
rm - æ’¤å›æŸæ¡æ¶ˆæ¯ã€‚å’ŒQQçš„æ’¤å›æ—¶é—´æ˜¯ä¸€æ ·çš„ï¼Œå…·ä½“ä½¿ç”¨ä¸ºå›å¤è¦æ’¤å›çš„å†…å®¹ï¼Œå‘é€ /rm
extra - æ‰çº¿é‡æ–°ç™»å½•æˆ–å¼ºåˆ¶åˆ·æ–°å¯¹è¯åˆ—è¡¨
```
ä¸botfatherå¯¹è¯
```
/setjoingroups  
```
é€‰æ‹©enableï¼Œæ¥å…è®¸æ‚¨çš„ bot åŠ å…¥ç¾¤ç»„ã€‚


```
/setprivacy 
```
é€‰æ‹©disableï¼Œæ¥ç¦ç”¨éšç§é™åˆ¶ï¼Œä»¥ä½¿å…¶èƒ½è¯»å–ç¾¤ç»„å†…çš„æ‰€æœ‰æ¶ˆæ¯ã€‚

è¿˜å¯ä»¥åœ¨botfatherå¤„ç»™ä½ çš„æœºå™¨äººæ·»åŠ å¤´åƒã€ä¿®æ”¹æ˜µç§°ã€ä¿®æ”¹æè¿°ã€‚

## 3.è·å–UID
ï¼ˆ1ï¼‰å¦‚æœä½ æ˜¯plus messagerç”¨æˆ·ï¼Œç›´æ¥ç‚¹å¼€è®¾ç½®ï¼Œåœ¨ä¸ªäººèµ„æ–™å¡å°±èƒ½ç›´æ¥çœ‹åˆ°idã€‚

ï¼ˆ2ï¼‰å¸¸è§„è·å–æ–¹æ³•ï¼šæœç´¢@get_id_botÂ ï¼Œè¾“å…¥/startï¼Œå°±èƒ½è·å¾—ä½ çš„ID


# ä¸‰ã€åˆ›å»ºå®¹å™¨
æ³¨ï¼šæ­¤å¤„åªè®²ç¾¤æ™–çš„å®‰è£…æ–¹æ³•ï¼Œéœ€è¦çº¯å‘½ä»¤è¡Œçš„ï¼Œè¯·è‡ªè¡ŒæŸ¥é˜…èµ„æ–™ä¾è‘«èŠ¦ç”»ç“¢ã€‚
## 1.åœ¨ç¾¤æ™–åˆ›å»ºä¸€ä¸ªç›®å½•efb-qq
ç”¨äºå­˜æ”¾å¤‡ä»½é…ç½®ç­‰æ•°æ®ï¼Œè¿ç§»é‡è£…çš„æ—¶å€™åªéœ€è¦å¤‡ä»½æ•´ä¸ªefb-qqç›®å½•å³å¯ã€‚
ç›®å½•ç»“æ„å¦‚ä¸‹

```
efb-qq
â”œâ”€â”€ mcl
â””â”€â”€ profiles
    â””â”€â”€ default
        â”œâ”€â”€ blueset.telegram
        â”‚   â”œâ”€â”€ config.yaml
        â”œâ”€â”€ config.yaml
        â””â”€â”€ milkice.qq
            â”œâ”€â”€ config.yaml
```

å…·ä½“é…ç½®å†…å®¹è§å‚è€ƒé“¾æ¥ï¼Œæœ¬äººè´´å‡ºçš„ä»…ä¾›å‚è€ƒï¼Œæ¯é¡¹ä»£è¡¨ä»€ä¹ˆä¹Ÿè¯·è‡ªè¡ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£è¯´æ˜ã€‚

/docker/efb-qq/profiles/default/milkice.qq/config.yaml

```
Client: mirai
mirai:
  qq: 123456789         # è¿™é‡Œæ¢æˆç™»å½•çš„ QQ å·
  host: "127.0.0.1"       # Mirai HTTP API ç›‘å¬åœ°å€ï¼Œä¸€èˆ¬æ˜¯ 127.0.0.1
  port: 8080              # Mirai HTTP API ç›‘å¬ç«¯å£ï¼Œä¸€èˆ¬æ˜¯ 8080
  verifyKey: "123456790" # è¿™é‡Œå¡«å…¥åœ¨é…ç½® Mirai API HTTP æ—¶ç”Ÿæˆçš„ verifyKeyï¼Œæš‚æ—¶ä¸å¡«ï¼Œä¹‹åæ¥è¡¥å……
```


/docker/efb-qq/profiles/default/blueset.telegram/config.yaml

```
token: "00000000:AAAAAAAAAA" #å¼•å·å†…è¯·æ›¿æ¢ä¸ºè‡ªå·±çš„bottoken
admins:
  - 111111111 #æ›¿æ¢ä¸ºè‡ªå·±çš„Telegram UID 
request_kwargs:                         #ä¸éœ€è¦è¯·åˆ é™¤ç¬¬4-7è¡Œä»£ç ã€‚æ”¯æŒæ·»åŠ ä»£ç†æ–‡ä»¶ï¼ŒHTTPå’ŒSOCKS5å‡æ”¯æŒï¼Œå…·ä½“æ ¼å¼è¯·è‡ªè¡ŒæŸ¥é˜… https://github.com/ehForwarderBot/efb-telegram-master/wiki/Network-Configuration-and-Proxy
    read_timeout: 6
    connect_timeout: 7
    proxy_url: http://XXX.XXX.XXX:ç«¯å£å·/
#å®éªŒæ€§åŠŸèƒ½ æˆ‘ç…§æŠ„wechatçš„
flags:
  chats_per_page: 20 #é€‰æ‹©/ chatå’Œ/ linkå‘½ä»¤æ—¶æ˜¾ç¤ºçš„èŠå¤©æ¬¡æ•°ã€‚è¿‡å¤§çš„å€¼å¯èƒ½å¯¼è‡´è¿™äº›å‘½ä»¤çš„æ•…éšœ
  network_error_prompt_interval: 100 #æ¯æ”¶åˆ°nä¸ªé”™è¯¯åå†é€šçŸ¥ç”¨æˆ·æœ‰å…³ç½‘ç»œé”™è¯¯çš„ä¿¡æ¯ã€‚ è®¾ç½®ä¸º0å¯ç¦ç”¨å®ƒ
  multiple_slave_chats: true #é»˜è®¤true #å°†å¤šä¸ªè¿œç¨‹èŠå¤©é“¾æ¥åˆ°ä¸€ä¸ªTelegramç»„ã€‚ä½¿ç”¨æœªå…³è”çš„èŠå¤©åŠŸèƒ½å‘é€å’Œå›å¤ã€‚ç¦ç”¨ä»¥è¿œç¨‹èŠå¤©å’Œç”µæŠ¥ç»„ä¸€å¯¹ä¸€é“¾æ¥ã€‚
  prevent_message_removal: true  #å½“ä»é€šé“éœ€è¦åˆ é™¤æ¶ˆæ¯æ—¶ï¼Œå¦‚æœæ­¤å€¼ä¸ºtrueï¼ŒEFBå°†å¿½ç•¥è¯¥è¯·æ±‚ã€‚
  auto_locale: true #è‡ªåŠ¨ä»ç®¡ç†å‘˜çš„æ¶ˆæ¯ä¸­æ£€æµ‹åŒºåŸŸè®¾ç½®ã€‚å¦åˆ™å°†ä½¿ç”¨åœ¨ç¯å¢ƒå˜é‡ä¸­å®šä¹‰çš„åŒºåŸŸè®¾ç½®ã€‚
  retry_on_error: false #åœ¨å‘Telegram Bot APIå‘é€è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯æ—¶æ— é™é‡è¯•ã€‚è¯·æ³¨æ„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é‡å¤çš„æ¶ˆæ¯ä¼ é€’ï¼Œå› ä¸ºTelegram Bot APIçš„å“åº”ä¸å¯é ï¼Œå¹¶ä¸”å¯èƒ½æ— æ³•åæ˜ å®é™…ç»“æœ
  send_image_as_file: false #å°†æ‰€æœ‰å›¾ç‰‡æ¶ˆæ¯ä»¥æ–‡ä»¶å‘é€ï¼Œä»¥ç§¯æé¿å…â€†Telegramâ€†å¯¹äºå›¾ç‰‡çš„å‹ç¼©ã€‚
  message_muted_on_slave: "mute" #normal:ä½œä¸ºæ™®é€šä¿¡æ¯å‘é€ç»™Telegram silent:å‘é€ç»™Telegramä½œä¸ºæ­£å¸¸æ¶ˆæ¯ï¼Œä½†æ²¡æœ‰é€šçŸ¥å£°éŸ³ mute:ä¸è¦å‘é€ç»™Telegram
  your_message_on_slave: "silent" #åœ¨ä»å±é€šé“å¹³å°ä¸Šæ”¶åˆ°æ¶ˆæ¯æ—¶çš„è¡Œä¸ºã€‚è¿™å°†è¦†ç›–message_muted_on_slaveä¸­çš„è®¾ç½®ã€‚
  animated_stickers: true #å¯ç”¨å¯¹åŠ¨æ€è´´çº¸çš„å®éªŒæ”¯æŒã€‚æ³¨æ„ï¼šæ‚¨å¯èƒ½éœ€è¦å®‰è£…äºŒè¿›åˆ¶ä¾èµ–â€†``libcairo``â€†æ‰èƒ½å¯ç”¨æ­¤åŠŸèƒ½ã€‚
  send_to_last_chat: true #åœ¨æœªç»‘å®šçš„ä¼šè¯ä¸­å¿«é€Ÿå›å¤ã€‚enabledï¼šå¯ç”¨æ­¤åŠŸèƒ½å¹¶å…³é—­è­¦å‘Šã€‚warnï¼šå¯ç”¨è¯¥åŠŸèƒ½ï¼Œå¹¶åœ¨è‡ªåŠ¨å‘é€è‡³ä¸åŒæ”¶ä»¶äººæ—¶å‘å‡ºè­¦å‘Šã€‚disabledï¼šç¦ç”¨æ­¤åŠŸèƒ½ã€‚
```


/docker/efb-qq/profiles/default/config.yaml

ä¸­é—´ä»¶æœ‰ä¸å°‘ï¼Œä½†éœ€è¦çš„å®‰è£…ç¯å¢ƒã€æ–‡ä»¶ã€é…ç½®ï¼Œè¯·æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£ã€‚ç›®æµ‹QQåªæœ‰ä¸‹é¢è¿™ä¸€ä¸ªå¯ä»¥ç”¨ã€‚æœ¬æ–‡ä¹Ÿæœ‰éƒ¨åˆ†ä¸¾ä¾‹æè¿°ï¼Œå¯ä»¥å‚è€ƒã€‚
```
master_channel: blueset.telegram
slave_channels:
- milkice.qq
middlewares:     #æ–°æ‰‹å°ç™½å¾…é˜…è¯»å®Œå…¨æ–‡åå†æŒ‰éœ€æ·»åŠ ï¼Œå¦åˆ™å¯åŠ¨ä¼šæŠ¥é”™ã€‚
#  - xzsk2.filter #æ ¹æ®è‡ªå·±çš„æƒ…å†µå†³å®šæ˜¯å¦å¯ç”¨[ä½¿ç”¨å‚è€ƒ]https://github.com/xzsk2/efb-filter-middleware
```

## 2.åˆ›å»ºå®¹å™¨
åœ¨ç¾¤æ™–çš„dockerå¥—ä»¶é‡Œé¢åŒå‡»ä¸‹è½½å¥½çš„é•œåƒæ–‡ä»¶ã€‚
åˆ›å»ºå®¹å™¨ï¼Œç‚¹å‡»é«˜çº§è®¾ç½®ã€‚
![image](https://user-images.githubusercontent.com/50565072/177002310-864feedf-ca10-47de-b981-5c5459060a53.png)

å·â†’æ·»åŠ æ–‡ä»¶å¤¹ã€‚
å°†å¯¹åº”ç›®å½•æŒ‚è½½åˆ°/root/.ehforwarderbot/profiles/default/å’Œ/root/mclå³å¯ã€‚
éå¸¸å»ºè®®æŒ‚è½½/mclæ–‡ä»¶å¤¹ã€‚å› ä¸ºè¿™é‡Œä¿å­˜çš„æ˜¯mclæ–‡ä»¶å’ŒğŸ§ç«¯çš„ç™»å½•ä¿¡æ¯ï¼Œå¦‚æœdocker imageæ›´æ–°ï¼Œä¸”ä½ ä¸æ˜¯æŒ‚è½½çš„è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚é‚£ä¹ˆä½ å°†ä¸¢å¤±ä½ çš„ç™»å½•ä¿¡æ¯ï¼Œå†æ¬¡ç™»å½•åˆ™éœ€è¦é‡æ–°éªŒè¯ã€‚
![image](https://user-images.githubusercontent.com/50565072/177002298-eb9d7529-ce4a-4f7f-bd40-45cd20c4d932.png)

# å››ã€ç™»å½•QQ
## 1.å®‰è£…mcl
è¿è¡Œä¸€æ¬¡dockerï¼ŒæŸ¥çœ‹æŒ‚è½½çš„mclæ–‡ä»¶å¤¹æ˜¯å¦äº§ç”Ÿäº†å¦‚ä¸‹æ–‡ä»¶ã€‚
![image](https://user-images.githubusercontent.com/50565072/177002325-c6d2c08e-0f1b-496e-a1ed-511b013e82c9.png)

è‹¥å¦ï¼ŒæŸ¥çœ‹dockeræ—¥å¿—ã€‚å¦‚æœæç¤ºè¿æ¥githubå¤±è´¥ã€è§£å‹å¤±è´¥ç­‰æŠ¥é”™ï¼Œè¯·æ‰‹åŠ¨ä¸‹è½½[mcl](https://github.com/iTXTech/mirai-console-loader/releases)ï¼Œå‹ç¼©åŒ…æ”¾ç½®äº/docker/efb-qq/mcl/æ–‡ä»¶å¤¹å†…ï¼Œä¸è¦è§£å‹ã€‚
![image](https://user-images.githubusercontent.com/50565072/177002345-cbd1e3c5-d0e0-4c31-a891-391d4cfea709.png)


å†æ¬¡é‡å¯dockerï¼Œè§‚å¯Ÿæ—¥å¿—æ˜¯å¦æ­£å¸¸ï¼Œæ–‡ä»¶å¤¹æ˜¯å¦äº§ç”Ÿï¼Œå¦‚æœæ²¡æœ‰è¯·å†æ¬¡é‡å¯ã€‚
## 2.å¡«å†™mclé…ç½®æ–‡ä»¶å¹¶å¯åŠ¨
å¡«å†™å¹¶ä¿å­˜\docker\efb-qq\mcl\config\net.mamoe.mirai-api-http\settings.ymlï¼Œå…·ä½“è¯´æ˜æŸ¥çœ‹[miraiå®¢æˆ·ç«¯é…ç½®æ•™ç¨‹](https://github.com/ehForwarderBot/efb-qq-slave/blob/master/doc/Mirai_zh-CN.rst)ã€‚

```
adapters:
  - http
  - ws
## æ˜¯å¦å¼€å¯è®¤è¯æµç¨‹, è‹¥ä¸º true åˆ™å»ºç«‹è¿æ¥æ—¶éœ€è¦éªŒè¯ verifyKey
## å»ºè®®å…¬ç½‘è¿æ¥æ—¶å¼€å¯
enableVerify: true
verifyKey: 124567890  #è‡ªå·±éšä¾¿å¡«å†™ä¸€ä¸ªï¼Œè¯·åŠ¡å¿…å’Œ/docker/efb-qq/profiles/default/milkice.qq/config.yamlå¤„çš„verifyKeyåŒæ­¥
## å¼€å¯ä¸€äº›è°ƒå¼ä¿¡æ¯
debug: false
## æ˜¯å¦å¼€å¯å• session æ¨¡å¼, è‹¥ä¸º trueï¼Œåˆ™è‡ªåŠ¨åˆ›å»º session ç»‘å®š console ä¸­ç™»å½•çš„ bot
## å¼€å¯åï¼Œæ¥å£ä¸­ä»»ä½• sessionKey ä¸éœ€è¦ä¼ é€’å‚æ•°
## è‹¥ console ä¸­æœ‰å¤šä¸ª bot ç™»å½•ï¼Œåˆ™è¡Œä¸ºæœªå®šä¹‰
## ç¡®ä¿ console ä¸­åªæœ‰ä¸€ä¸ª bot ç™»é™†æ—¶å¯ç”¨
singleMode: false
## å†å²æ¶ˆæ¯çš„ç¼“å­˜å¤§å°
## åŒæ—¶ï¼Œä¹Ÿæ˜¯ http adapter çš„æ¶ˆæ¯é˜Ÿåˆ—å®¹é‡
cacheSize: 4096
## adapter çš„å•ç‹¬é…ç½®ï¼Œé”®åä¸ adapters é¡¹é…ç½®ç›¸åŒ
adapterSettings:
  ## è¯¦æƒ…çœ‹ http adapter ä½¿ç”¨è¯´æ˜ é…ç½®
  http:
    host: localhost
    port: 8080
    cors: ["*"]
  
  ## è¯¦æƒ…çœ‹ websocket adapter ä½¿ç”¨è¯´æ˜ é…ç½®
  ws:
    host: localhost
    port: 8080
    reservedSyncId: -1
```

æ‰“å¼€sshè¾“å…¥å¦‚ä¸‹å‘½ä»¤

```
docker exec -it efb-qq ash
cd /root/mcl
./mcl -u
```
ä¼šå‡ºç°ä¸€äº›æŠ¥é”™ï¼Œå±äºæ­£å¸¸ç°è±¡ã€‚
![image](https://user-images.githubusercontent.com/50565072/177002724-fa47d1d8-a32a-4a34-b97d-e1f2dcc950fe.png)

## 3.ç™»å½•è´¦å·
æ ¹æ®é¡µé¢æç¤ºè¿›è¡Œç™»å½•è´¦å·çš„è®¾ç½®ã€‚æœ‰ä»€ä¹ˆä¸æ‡‚çš„è¾“å…¥ ï¼Ÿ ï¼ŒæŸ¥çœ‹æç¤ºã€‚

```
#ç™»å½•è®¾å¤‡å¯ä»¥åœ¨<ANDROID_PHONE, ANDROID_PAD, ANDROID_WATCH ä¸‰é€‰ä¸€>
/login QQå· QQå¯†ç  ANDROID_PAD  #ç™»å½•å‘½ä»¤ï¼Œå¯ä¿®æ”¹ç™»å½•è®¾å¤‡
#ä¸‹é¢ä¸¤æ¡å‘½ä»¤å¦‚æœéœ€è¦è®¾ç½®è‡ªåŠ¨ç™»å½•ï¼Œéƒ½è¦è¾“
/autoLogin add  QQå· QQå¯†ç 
/autoLogin setConfig QQå· protocol ANDROID_PAD  #å¯ä¿®æ”¹ç™»å½•è®¾å¤‡
```
è¿è¡Œ./mcl -uç™»å½•QQå·ä¼šæç¤ºéœ€è¦æ»‘å—éªŒè¯ï¼Œç„¶è€ŒTxCaptchaHelperä¸èƒ½ç”¨ï¼Œè¯·ç§»æ­¥[æ»‘å—éªŒè¯è§£å†³æ–¹æ¡ˆ](https://github.com/project-mirai/mirai-login-solver-selenium)ä¸­çš„æ–¹æ³•2ã€‚ç…§åšã€‚é€šè¿‡æ»‘å—ååœ¨mclå›è¾“éœ€è¦çš„å‚æ•°ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªç½‘å€ï¼Œæµè§ˆå™¨æ‰“å¼€éœ€è¦ä½¿ç”¨æ‰‹æœºQQæ‰«ç ã€‚æ‰«ç æˆåŠŸåè¾“å…¥ä»»æ„å­—ç¬¦è¿›è¡Œç™»å½•ï¼Œæ‰‹æœºä¼šæç¤ºQQHDç‰ˆå·²ç™»å½•ã€‚


æ³¨æ„äº‹é¡¹ï¼š

1.ä¸è¦å·æ‡’ï¼Œå¿…é¡»æ˜¯å®‰å“æ‰‹æœº&windowsç‰ˆçš„chromeï¼Œä¸è¦è¯•å›¾ç”¨ä»»ä½•çš„éå®˜æ–¹ç‰ˆæœ¬è’™æ··è¿‡å…³ï¼

2.æ‰“å¼€inspectåå¼¹å‡ºæ¥çš„devtoolsä¸ºç©ºç™½æˆ–è€…404ï¼Œå¹¶ä¸”ä½ éµç…§äº†æ³¨æ„äº‹é¡¹1ï¼Œè¯·å…¨å±€ç§‘å­¦ä¸Šç½‘è¯•è¯•ã€‚

3.éªŒè¯ç åœ°å€åœ¨æ­¤å¤„
![image](https://user-images.githubusercontent.com/50565072/177025756-82d104d5-1c6e-4304-8105-9528959562bd.png)

# äº”ã€ç™»å½•åç©æ³•
## 1.åˆ†ç»„
ç™»å½•åæœºå™¨äººä¼šå¼€å§‹å¸®ä½ æ¥æ”¶ä¿¡æ¯ï¼Œç„¶è€Œä¸ç®¡æ˜¯ç¾¤ç»„è¿˜æ˜¯ç§èŠï¼Œéƒ½ä¼šæ¨é€ä¿¡æ¯åˆ°è¿™ä¸€ä¸ªæœºå™¨äººï¼Œä¿¡æ¯éå¸¸ç¹æ‚ï¼Œä¸åˆ©äºè¾¨è®¤ï¼Œæ‰€ä»¥å¾ˆæœ‰å¿…è¦è¿›è¡Œåˆ†ç»„ã€‚
###### ï¼ˆ1ï¼‰åˆ›å»ºç¾¤ç»„

![image](https://user-images.githubusercontent.com/50565072/177025778-080408a1-2922-46d6-9923-e4b0159c4a83.png)


ç¾¤ç»„åå­—è®¾ç½®ï¼šå¦‚æœæ˜¯å•ä¸ªç§èŠæˆ–è€…å•ä¸ªç¾¤èŠï¼Œéšä¾¿è®¾ç½®ä¸€ä¸ªåå­—ï¼Œä¹‹åå¯ä»¥é€šè¿‡æœºå™¨äººå‘½ä»¤åŒæ­¥ä¿¡æ¯ï¼Œä¸ç”¨è‡ªå·±æŒ¨ä¸ªè®¾ç½®ã€‚å¦‚æœæ˜¯æƒ³å½’ç±»ï¼Œä¸€ä¸ªç¾¤ç»„å…³è”å¾ˆå¤šèŠå¤©å¯¹è¯ï¼Œå°±æŒ‰éœ€è®¾ç½®ã€‚ä¾‹å¦‚ï¼šâ€œæ¸¸æˆâ€ã€â€œåŒäº‹â€ã€‚

è®°å¾—æ¯ä¸ªç¾¤ç»„éƒ½å¿…é¡»æŠŠè‡ªå·±åˆ›å»ºçš„æœºå™¨äººæ‹‰è¿›ç¾¤ã€‚

###### ï¼ˆ2ï¼‰è¿›è¡Œç­›é€‰åˆ†ç»„
åœ¨æœºå™¨äººå¯¹è¯ç•Œé¢æ“ä½œï¼š
å¯ä»¥é’ˆå¯¹å·²ç»ç»™ä½ å‘é€ä¿¡æ¯çš„è´¦æˆ·ï¼Œç›´æ¥å·¦æ»‘å›å¤ï¼Œè¾“å…¥/linkï¼Œå‘é€ï¼Œé€‰æ‹©linkï¼Œç„¶åé€‰æ‹©ä½ åˆ›å»ºå¥½çš„ç¾¤ç»„å³å¯ã€‚
ä¸€ä¸ªç¾¤ç»„å¯ä»¥linkå¤šä¸ªå¾®ä¿¡è´¦æˆ·ï¼Œè¾¾åˆ°åˆ†ç»„åŠŸèƒ½ã€‚

![image](https://user-images.githubusercontent.com/50565072/177025791-6439baa6-4e5f-4b00-afb4-97b9b30ed5cf.png)


###### ï¼ˆ3ï¼‰æ›´æ–°ç¾¤ç»„ä¿¡æ¯
å½“ä½ çš„ç¾¤ç»„åªç»‘å®šäº†ä¸€ä¸ªå¾®ä¿¡ç§èŠæˆ–è€…ç¾¤ç»„æ—¶ï¼Œå¯ä»¥åœ¨ç¾¤ç»„ä¸­è¾“å…¥/update_infoï¼Œå³å¯è‡ªåŠ¨åŒæ­¥QQå¤´åƒã€æ˜µç§°ã€ç¾¤ç»„æˆå‘˜ï¼ˆåœ¨ç®€ä»‹ä¸­ï¼‰ã€‚è¿™é¡¹åŠŸèƒ½éœ€è¦ç»™æœºå™¨äººç®¡ç†å‘˜æƒé™ã€‚
## 2.ä¸­é—´ä»¶è®¾ç½®
æœ¬æ–‡åªä¸¾ä¾‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå…¶ä½™çš„è¿˜è¯·è‡ªå·±æŸ¥é˜…å®˜æ–¹é“¾æ¥ã€‚ä¸å°‘ä¸­é—´ä»¶åªæ˜¯é€‚ç”¨äºå¾®ä¿¡ï¼Œä¸é€‚ç”¨äºQQã€‚ä¸éœ€è¦å¯åŠ¨çš„ä¸­é—´ä»¶ç›´æ¥åœ¨æœ€å‰é¢åŠ ä¸Š#æ³¨é‡Šæ‰å³å¯ã€‚
###### xzsk2.filterï¼šä¿¡æ¯è¿‡æ»¤

[efb-filter-middlewareä¸­é—´ä»¶](https://github.com/xzsk2/efb-filter-middleware)

æ–°å»ºä¸€ä¸ªæ–‡ä»¶config.yamlï¼Œä½ç½®åœ¨/docker/efb-qq/profiles/default/xzsk2.filterã€‚æ²¡æœ‰çš„æ–‡ä»¶å¤¹è‡ªå·±åˆ›å»ºã€‚

```
version: 3.46   #éšä¾¿å†™
match_mode: fuzz  
#fuzzæ˜¯å…³é”®å­—å‘½ä¸­å³å¯åŒ¹é…ï¼›exactæ˜¯éœ€è¦å®Œæ•´è¯ç»„ç²¾ç¡®åŒ¹é…
work_mode:
        - black_persons   #é»‘åå•å¥½å‹ï¼Œè¿‡æ»¤ä»–çš„ä¿¡æ¯ã€‚å¦‚æœä½ ä¸æƒ³æ¼æ”¶ç§èŠä¿¡æ¯ï¼Œä¹Ÿä¸€å®šè¦å¯ç”¨è¿™ä¸ªã€‚
        - white_groups    #ç™½åå•ç¾¤ç»„ï¼Œä»…æ¥å—åˆ—è¡¨å†…ç¾¤ç»„çš„ä¿¡æ¯
#white_persons:
#        - libai
white_groups:
        - 1234
        - "*"
        #ç‰¹æ®Šå­—ç¬¦éœ€è¦æ‰“å¼•å·
black_persons:   #å¦‚æœä½ ä¸æƒ³æ¼æ”¶ç§èŠä¿¡æ¯ï¼Œä¹Ÿä¸€å®šè¦å¯ç”¨è¿™ä¸ªã€‚
        - nopppppppp   #å¦‚æœæ²¡æœ‰æƒ³è¿‡æ»¤çš„äººï¼Œå°±å¡«ä¸€ä¸ªå¥½å‹é‡Œé¢æ²¡æœ‰çš„åå­—å§
#black_groups:
#        - testsyou
```
åœ¨/docker/efb-qq/profiles/default/config.yamlä¸­æ·»åŠ ä¸‹åˆ—ä»£ç ï¼Œä¿å­˜å¹¶é‡å¯dockerï¼Œæ—¥å¿—å¦‚æ— æŠ¥é”™æ­£å¸¸è¯†åˆ«è¿è¡Œä¸­é—´ä»¶åˆ™æˆåŠŸã€‚
```
- xzsk2.filter   
```
![image](https://user-images.githubusercontent.com/50565072/177003098-3154b5d0-4b7f-4824-92b5-b55ab293c1d6.png)



è¯¥dockerå·²ç»å†…ç½®æ­¤ä¸­é—´ä»¶ï¼Œæ— éœ€å®‰è£…ã€‚
å¦‚æ²¡æœ‰å®‰è£…åˆ™åœ¨å®¹å™¨å†…è¿è¡Œä¸‹åˆ—ä»£ç ã€‚
```
apk update
apk add git
pip3 install git+https://github.com/xzsk2/efb-filter-middleware
```
